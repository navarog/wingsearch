<div class="content-wrapper" *ngIf="cardHeight$ | async as cardHeight" [style]="getBirdSilhouette() | async" [ngStyle]="{'height.px': cardHeight}">
    <div class="upper-row">
        <div class="grey-square">
            <div class="habitats">
                <picture *ngFor="let habitat of habitats; index as i"
                    class="habitat-wrapper habitat-{{i + 1}}-{{habitats.length}}">
                    <source type="image/webp" srcset="assets/icons/png/{{habitat.toLowerCase()}}.webp">
                    <source type="image/png" srcset="assets/icons/png/{{habitat.toLowerCase()}}.jpg">
                    <img src="assets/icons/png/{{habitat.toLowerCase()}}.png" alt="{{habitat.toLowerCase()}} birds"
                        class="habitat">
                </picture>
            </div>
            <div class="food" [innerHTML]="buildFoodCostString() | iconize"
                [ngStyle]="{'font-size.px': cardHeight * 0.04, 'line-height.px': cardHeight * 0.04}"></div>
        </div>
        <div class="title-border" [ngStyle]="{'border-width.px': cardHeight / 460}">
            <div class="title" [ngStyle]="{'font-size.px': cardHeight * 0.042, 'line-height.px': cardHeight * 0.042}">
                <span [innerHTML]="displayName(card) | iconize"></span>
            </div>
            <div class="native"
                [ngStyle]="{'font-size.px': cardHeight * 0.045, 'line-height.px': cardHeight * 0.045}"
                *ngIf="card['Native name']">
                {{card['Native name']}}
            </div>
            <div class="scientific"
                [ngStyle]="{'font-size.px': cardHeight * 0.03, 'line-height.px': cardHeight * 0.035}">
                {{card['Scientific name']}}
            </div>
        </div>
    </div>
    <div class="middle-row">
        <div class="left-column" *ngIf="cardHeight">
            <span [innerHTML]="card['Victory points']+'[point]' | iconize" class="points"
                [ngStyle]="{'font-size.px': cardHeight * 0.064, 'line-height.px': cardHeight * 0.064}"></span>
            <picture *ngIf="resolveNestType() as nest" class="nest">
                <source type="image/webp" srcset="assets/icons/png/{{nest}}.webp">
                <source type="image/png" srcset="assets/icons/png/{{nest}}.png">
                <img src="assets/icons/png/{{nest}}.png" alt="{{card['Nest type']}}" aria-hidden="true">
            </picture>
            <div class="eggs">
                <picture *ngFor="let egg of eggs" class="egg" [ngStyle]="{'max-height.px': cardHeight / 20.64}">
                    <source type="image/webp" srcset="assets/icons/png/smallegg.webp">
                    <source type="image/png" srcset="assets/icons/png/smallegg.png">
                    <img src="assets/icons/png/smallegg.png" alt="smallegg" aria-hidden="true">
                </picture>
            </div>
        </div>
        <div class="right-column" *ngIf="cardHeight">
            <span [innerHTML]="wingspan" class="wingspan"
                [ngStyle]="{'font-size.px': cardHeight * 0.034, 'line-height.px': cardHeight * 0.034}"></span>
            <img src="assets/icons/png/wingspan.png" *ngIf="wingspan" alt="{{wingspan}}" aria-hidden="true">
        </div>
    </div>
    <div class="power-row" [ngClass]="card.Color && card.Color.toLowerCase()">
        <div class="power">
            <div class='icons' *ngIf="getPowerIcon().length" [innerHtml]="(getPowerIcon() | iconize)"></div>
            <div class='text' *ngIf="card.Color" [ngStyle]="{'font-size.px': cardHeight * powerFontSize, 'line-height.px': cardHeight * powerFontSize + 1}">
                <span [innerHtml]="getPowerTitle()"></span>
                <span [innerHtml]="(card['Power text'] | iconize:card.Color !== 'white':card.Color !== 'white')"></span>
            </div>
        </div>
    </div>
    <div class="footer">
        <div class="footer-left">
            <img class="swift-start-indicator" *ngIf="card['Swift Start']" src="assets/icons/svg/expansion-indicators/{{getSwiftStartIcon()}}.svg"
                alt="Swift Start" aria-label="swift start indicator">
        </div>
        <div class="continent">
            <img class="continent-base" src="assets/icons/png/map.png"
                alt="Continent indicator" aria-label="continent indicator">
            <img class="continent-top" *ngIf="card['North America']" src="assets/icons/png/map_na.png"
                alt="North America Continent indicator" aria-label="North America continent indicator">
            <img class="continent-top" *ngIf="card['Central America']" src="assets/icons/png/map_amn.png"
                alt="Central America Continent indicator" aria-label="Central America continent indicator">
            <img class="continent-top" *ngIf="card['South America']" src="assets/icons/png/map_ams.png"
                alt="South America Continent indicator" aria-label="South America continent indicator">
            <img class="continent-top" *ngIf="card['Europe']" src="assets/icons/png/map_e.png"
                alt="Europe Continent indicator" aria-label="Europe continent indicator">
            <img class="continent-top" *ngIf="card['Asia']" src="assets/icons/png/map_a.png"
                alt="Asia Continent indicator" aria-label="Asia continent indicator">
            <img class="continent-top" *ngIf="card['Africa']" src="assets/icons/png/map_af.png"
                alt="Africa Continent indicator" aria-label="Africa continent indicator">
            <img class="continent-top" *ngIf="card['Oceania']" src="assets/icons/png/map_o.png"
                alt="Oceania Continent indicator" aria-label="Oceania continent indicator">
        </div>
        <div class="footer-flavor" [ngStyle]="{'font-size.px': cardHeight * flavorFontSize, 'line-height.px': cardHeight * flavorFontSize + 1}">
            <span class="text">{{card['Flavor text']}}</span>
        </div>
        <div class="footer-right">
            <img class="expansion-indicator" *ngIf="isExpansion()" src="assets/icons/svg/expansion-indicators/{{card.Set}}.svg"
                [alt]="card.Set" aria-label="expansion indicator">
            <img class="expansion-indicator" *ngIf="isPromo()" src="assets/icons/svg/expansion-indicators/promo.svg"
                alt="Fan-Designed Bird Packs" aria-label="expansion indicator">
            <img class="pack-indicator" *ngIf="isPromo()" src="assets/icons/svg/expansion-indicators/{{card.Set}}.svg"
                [alt]="getPackTitle()" aria-label="pack indicator">
        </div>
    </div>
</div>